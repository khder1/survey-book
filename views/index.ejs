<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous">
        </script>
    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.0/js/bootstrap-datepicker.min.js"></script>
    <link rel = "icon" href = "data:image/jpeg;base64,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" type = "image/x-icon">
    
    <!-- <script type="text/javascript" src="/js/script"></script> -->

    <title> كتب </title>
</head>

<body>
    <form id="form" action="index3.html">
        <div class="flex-container">
            <header class="header" style="border-radius: 9px; width: 80%; font-size: 28px;">
                استمارة لجمع البيانات حول كتب تمت قراءتها
            </header>
            <div class="card" style="height: auto;">
                <header class="header">
                    المعلومات الشخصية
                </header>
                <div class="body">
                    <label class="label" for="from-datepicker">
                        سنة الميلاد
                    </label>
                    <div class="inputContainer">
                        <input type="text" placeholder="yyyy-mm-dd" class="input" id="from-datepicker" required>
                    </div>
                </div>
                <div class="body">
                    <label class="label" for="city">
                        المدينة
                    </label>
                    <div class="inputContainer">
                        <input class="input" type="text" size="40px" id="city" required>
                    </div>
                </div>
            </div>
            <div class="card" style="height: auto;">
                <header class="header">
                    ما هي المرحلة التعليمية التي وصلت لها ؟
                </header>
                <div class="body">
                    <div class="inputContainer">
                        <select class="input" style="font-size: 16px;" id="degree">
                            <option value="not studed">
                                غير متعلم بشكل رسمي
                            </option>
                            <option value="elementary">
                                ابتدائي
                            </option>
                            <option value="intermediate">
                                إعدادي
                            </option>
                            <option value="secondary">
                                ثانوي
                            </option>
                            <option value="academic">
                                جامعي أو معهد
                            </option>
                            <option value="postgraduate">
                                دراسات عليا
                            </option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card" style="height: auto;">
                <header class="header">
                    <div class="head">
                        ما هي المواضيع الفكرية أو القضايا التي حازت على اهتمامك في فترات عمرية مختلفة ؟
                    </div>
                    <div>(مثلاً: كنت مهتماً بنظرية التطور في فترة الشباب)</div>
                </header>
                <div class="buttons" style="margin: auto;">
                    <button id="btn1" style="width: 100%" class="button" type="button" onclick="addHTML1()">
                        إضافة موضوع
                    </button>
                </div>
                <div style="width: 100%;" id="div1"></div>
            </div>

            <div class="card" style="height: auto;">
                <header class="header">
                    <div class="head">
                        ما هم أهم المؤلفين أو الكتب التي حازت على اهتمامك خلال فترات عمرية مختلفة ؟
                    </div>
                    <div>(مثلاً: نيتشه في عمر الأربعينيات)</div>
                </header>
                <div class="buttons" style="margin: auto;">
                    <button id="btn2" style="width: 100%" class="button" type="button" onclick="addHTML2()">
                        إضافة مؤلف أو كتاب
                    </button>
                </div>
                <div style="width: 100%;" id="div2"></div>
            </div>

            

            <div class="buttons">
                <button id="submit" type="button" class="button" name="n4">
                    إرسال المعلومات
                </button>
                <button id="reset" type="reset" class="button" name="n5">
                    إعادة القيم
                </button>
            </div>
        </div>
    </form>
    <script>
        var l1 = true
        var l2 = true
        var data = { birth: '', city: '', subjects: [], authors: [], degree: '' }
        var subjects = []
        var authors = []
        var degree ;
        addHTML1 = () => {
            l1 = false
            document.getElementById('btn1').disabled = true;
            document.getElementById('div1').innerHTML =
                `
                <div class="body">
                    <textarea class="input" id="subject"></textarea>
                </div>
                <div class="buttons" style="margin: auto;">
                    <button class="button" type="button" onclick="Cancel1()">X</button>
                    <button class="button" id="but1" type="button" onclick="Done1()">تم</button>
                </div>
                `
            document.getElementById('submit').disabled = true
            document.getElementById('reset').disabled = true
        }
        Cancel1 = () => {
            document.getElementById('div1').innerHTML = null
            document.getElementById('btn1').disabled = false
            l1 = true
            if (l2) {
                document.getElementById('submit').disabled = false
                document.getElementById('reset').disabled = false
            }
        }
        Done1 = () => {
            l1 = true
            var subject = document.getElementById('subject')
            if (!subject.value) {
                alert('رجاءً أدخل المعلومات المطلوبة')
            } else {
                subject.disabled = true
                subjects.push(subject.value)
                document.getElementById(`but1`).disabled = true
                document.getElementById('btn1').disabled = false
                //console.log(subjects)
                if (l2) {
                    document.getElementById('submit').disabled = false
                    document.getElementById('reset').disabled = false
                }
            }
        }
        addHTML2 = () => {
            l2 = false
            document.getElementById('btn2').disabled = true;
            document.getElementById('div2').innerHTML =
                `
                <div class="body">
                    <textarea class="input" id="author"></textarea>
                </div>
                <div class="buttons" style="margin: auto;">
                    <button class="button" type="button" onclick="Cancel2()">X</button>
                    <button class="button" id="but2" type="button" onclick="Done2()">تم</button>
                </div>
                `
            document.getElementById('submit').disabled = true
            document.getElementById('reset').disabled = true
        }
        Cancel2 = () => {
            document.getElementById('div2').innerHTML = null
            document.getElementById('btn2').disabled = false
            l2 = true
            if (l1) {
                document.getElementById('submit').disabled = false
                document.getElementById('reset').disabled = false
            }
        }
        Done2 = () => {
            l2 = true
            var author = document.getElementById('author')
            if (!author.value) {
                alert('رجاءً أدخل المعلومات المطلوبة')
            } else {
                author.disabled = true
                authors.push(author.value)
                document.getElementById(`but2`).disabled = true
                document.getElementById('btn2').disabled = false
                //console.log(authors)
                if (l1) {
                    document.getElementById('submit').disabled = false
                    document.getElementById('reset').disabled = false
                }
            }
        }
        $(document).ready(function () {
            $("#from-datepicker").datepicker({
                format: 'yyyy-mm-dd' //can also use format: 'dd-mm-yyyy'     
            });
        });
        $(document).ready(() => {
            $("#submit").click(() => {
                birth = document.getElementById('from-datepicker').value;
                city = document.getElementById('city').value;
                degree = document.getElementById('degree').value;
                data = { birth, city, subjects, authors, degree }
                // console.log(`data = ${data.authors}`)
                // console.log(data)
                $.post('/request',
                    {
                        data: data
                    },
                    (info, status) => {
                        console.log(status);
                        document.write(info)
                    });
            });
        });

    </script>


</body>

</html>